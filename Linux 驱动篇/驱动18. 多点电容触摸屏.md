# 一、多点电容触摸屏驱动框架

1、电容触摸屏上报多点触摸信息，通过触摸芯片（比如FT5426）。多算电容触摸屏本质是IIC驱动。

2、触摸IC一般都是有INT的，当检测到触摸信息以后就会触发中断想赢，那么就要在中断处理函数里面读取触摸点信息。

3、得到触摸点信息以后，Linux如何使用？		Linux下有触摸屏上报的流程，涉及到inout子系统下的信息上报。

# 二、MT 协议

## 1、Type A
适用于触摸点不能被区分或者追踪，一股脑全部上报所有触摸点信息系统去甄别这些信息属于哪个触摸点（此类型在实际使用中非常少！ )。
```cpp
   /* 两点触摸 */
   ABS_MT_POSITION_X x[0]
   ABS_MT_POSITION_Y y[0]
   SYN_MT_REPORT
   ABS_MT_POSITION_X x[1]
   ABS_MT_POSITION_Y y[1]
   SYN_MT_REPORT
   SYN_REPORT

```
## 2、Type B
适用于有硬件追踪并能区分触摸点的触摸设备，此类型设备通过 slot 机制更新某一个触摸点的信息， FT5426 就属于此类型，一般的多点电容触摸屏 IC 都有此能力。

触摸点的信息通过一系列的 ABS_MT 事件上报给 linux 内核的。
<!--stackedit_data:
eyJoaXN0b3J5IjpbMTAyNDg3MTg4MiwxNjQ0NDMyNDU5LC0yMD
g4NzQ2NjEyXX0=
-->